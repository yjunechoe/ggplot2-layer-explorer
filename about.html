<h2 id="about">About</h2>
<p><strong>ggplot2 Layer Explorer</strong> is an <a href="https://shiny.posit.co/">R Shiny app</a> that exposes the internal layer-building pipeline of <a href="https://github.com/tidyverse/ggplot2/">ggplot2</a>. It allows you to <em>see</em> (<strong>inspect</strong>) and <em>touch</em> (<strong>highjack</strong>) a layer’s data as it flows through internal processes.</p>
<h2 id="the-big-idea">The Big Idea</h2>
<p>The app makes visible a fundamental idea in <code>{ggplot2}</code>: <strong>each layer has a corresponding tabular-data representation which undergoes incremental changes in the internals</strong>.</p>
<p>This concept is further explored in:</p>
<ul>
<li><strong>Talks</strong>: <a href="https://youtu.be/613Q0j6Kjm0?feature=shared">JSM 2023</a>, <a href="https://www.youtube.com/watch?v=dUBnitXf5mk">rstudioconf 2022</a>, <a href="https://www.youtube.com/watch?v=2JX8zu4QxMg&amp;t=2959s">useR! 2022</a></li>
<li><strong>Paper</strong>: <a href="https://yjunechoe.github.io/static/papers/Choe_2022_SublayerGG.pdf">Sub-layer Modularity in the Grammar of Graphics</a></li>
<li><strong>Companion package</strong>: <a href="https://github.com/yjunechoe/ggtrace">ggtrace</a></li>
</ul>
<h2 id="how-to-use-the-app">How to Use the App</h2>
<table>
<thead>
<tr>
<th>Panel</th>
<th>Purpose</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Left Sidebar</strong></td>
<td>Method selection</td>
<td>Lists ggproto methods to explore</td>
</tr>
<tr>
<td><strong>Middle Panel</strong></td>
<td>Plot definition</td>
<td>Define your plot or choose a pre-defined example</td>
</tr>
<tr>
<td><strong>Right Panel</strong></td>
<td>Method exploration</td>
<td>Inspect/highjack method inputs/outputs using <code>{ggtrace}</code> functions</td>
</tr>
</tbody>
</table>
<h3 id="workflow">Workflow</h3>
<ol>
<li><strong>Select a method</strong> from the left sidebar</li>
<li><strong>Define a plot</strong> in the middle panel</li>
<li><strong>Explore the method</strong> in the right panel with a populated <code>inspect_*()</code> call. Use options at the top to change the target of exploration (Do you want the input or output of the method? For which layer in the plot?)</li>
<li><strong>Run expression</strong> to see the captured value, or <strong>Highjack plot</strong> to re-render the ggplot with a modified input/output value for the selected method</li>
</ol>
<h3 id="tips">Tips</h3>
<ul>
<li>
<p><strong>Data Methods</strong>: Most methods are data-in → data-out. You can manipulate these data frames with <code>{dplyr}</code> functions like <code>mutate()</code></p>
</li>
<li>
<p><strong>Drawing Methods</strong>: The final steps in the pipeline are data-in → grob-out. You can manipulate the grobs (graphics objects) with <code>{grid}</code> functions like <code>editGrob()</code></p>
</li>
</ul>
<h2 id="technical-scope">Technical Scope</h2>
<p>The app exposes just a small subset of <a href="https://ggplot2.tidyverse.org/reference/ggplot2-ggproto.html">ggproto methods</a> that are:</p>
<ul>
<li>✅ Called exactly once on layer data</li>
<li>✅ Data-in, data/grob-out operations</li>
<li>✅ Pure functions</li>
</ul>
<p>For more advanced usage beyond the app, try <code>{ggtrace}</code> directly. Questions welcome <a href="https://github.com/yjunechoe/ggtrace/issues">on GitHub</a>.</p>
<h2 id="acknowledgments">Acknowledgments</h2>
<p>This project would not be possible without <code>{ggplot2}</code> and <code>{shiny}</code> + <code>{webr}</code>. I am hugely grateful to folks in the <a href="https://github.com/ggplot2-extenders/ggplot-extension-club">ggplot2 extenders community</a>, especially <a href="https://github.com/EvaMaeRey">Gina Reynolds</a> and <a href="https://github.com/teunbrand">Teun van den Brand</a>, for early feedback and support.</p>

